<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <h3>FETCH API</h3>
    <p>
        fetch api makes async requests to a server somewhere<br>
        jsonplaceholder returns a promise stream<br>
        because fetch returns a promise, we can use catch to handle errors<br>
        if ANYTHING is returned, 404 error or whatever, the catch won't fire because SOMETHING was returned<br>
        you can check the STATUS code of the return. If response.ok, else return promise.reject(response)<br>
        by default, the fetch uses the GET http method instead of POST<br>
        <br>
        <br>
        <br>


    </p>

</body>

<script>
    // // basic syntax for the jsonplaceholder
    // // returns a promise stream
    // fetch("https://jsonplaceholder.typicode.com/posts").then(function (response) {

    //     if (response.ok) {
    //         console.log("Success!!!");
    //         return response.json();
    //     } else {
    //         return Promise.reject(response);
    //     }
    // }).then(function (data) {
    //     // this is the json data from our response 
    //     console.log(data);
    // }).catch(function (err) {
    //     console.log("something went wrong", err);
    // });

    // MAKING A POST REQUEST
    fetch("https://jsonplaceholder.typicode.com/posts", {
        method: "POST",
        body: "title=" + encodeURIComponent("my awesome, new article") + "&body=" +
            encodeURIComponent("this is the text of my article")
    }).then(function (response) {
        if (response.ok) {
            console.log("Success!!!");
            return response.json();
        } else {
            return Promise.reject(response);
        }
    }).then(function (data) {
        // this is the json data from our response 
        console.log(data);
    }).catch(function (err) {
        console.log("something went wrong", err);
    });



</script>

</html>